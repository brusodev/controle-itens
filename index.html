<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sistema de Controle de Itens</title>
        <link rel="stylesheet" href="styles.css">
        <!-- Favicon com emoji üì¶ -->
        <link rel="icon"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üì¶</text></svg>">
    </head>
    <body>
        <div class="container">
            <header>
                <h1>üì¶ Sistema de Controle de Itens</h1>
            </header>

            <!-- Navega√ß√£o por Abas -->
            <nav class="tabs">
                <button class="tab-btn active"
                    data-tab="estoque">Estoque</button>
                <button class="tab-btn" data-tab="kits">üéÅ Kits</button>
                <button class="tab-btn" data-tab="requisicao">Nova
                    Requisi√ß√£o</button>
                <button class="tab-btn" data-tab="pendentes">Pendentes <span
                        class="badge" id="badge-pendentes">0</span></button>
                <button class="tab-btn" data-tab="historico">Hist√≥rico</button>
            </nav>

            <!-- Aba: Estoque -->
            <section id="tab-estoque" class="tab-content active">
                <div class="section-header">
                    <h2>Estoque Atual</h2>
                    <button class="btn btn-primary"
                        onclick="mostrarModalNovoItem()">+ Adicionar
                        Item</button>
                </div>

                <div class="filter-section">
                    <input type="text" id="filtro-estoque"
                        placeholder="Buscar item..." onkeyup="filtrarEstoque()">
                    <select id="filtro-categoria" onchange="filtrarEstoque()">
                        <option value>Todas as categorias</option>
                    </select>
                </div>

                <div id="lista-estoque" class="cards-grid"></div>
            </section>

            <!-- Aba: Kits -->
            <section id="tab-kits" class="tab-content">
                <div class="section-header">
                    <h2>üéÅ Kits de Itens</h2>
                    <button class="btn btn-primary"
                        onclick="mostrarModalNovoKit()">+ Criar Kit</button>
                </div>

                <div class="filter-section">
                    <input type="text" id="filtro-kits"
                        placeholder="Buscar kit..." onkeyup="filtrarKits()">
                </div>

                <div id="lista-kits" class="cards-grid"></div>
            </section>

            <!-- Aba: Nova Requisi√ß√£o -->
            <section id="tab-requisicao" class="tab-content">
                <h2>Nova Requisi√ß√£o de Itens</h2>

                <form id="form-requisicao" class="form-card">
                    <div class="form-group">
                        <label for="req-solicitante">Solicitante *</label>
                        <input type="text" id="req-solicitante" required>
                    </div>

                    <div class="form-group">
                        <label for="req-recebedor">Quem vai receber *</label>
                        <input type="text" id="req-recebedor" required>
                    </div>

                    <div class="form-group">
                        <label for="req-data-uso">Data de uso *</label>
                        <input type="date" id="req-data-uso" required>
                    </div>

                    <div class="form-group">
                        <label for="req-observacao">Observa√ß√µes</label>
                        <textarea id="req-observacao" rows="3"></textarea>
                    </div>

                    <h3>Itens Solicitados</h3>
                    
                    <div class="kit-selector">
                        <label>Ou adicione um kit completo:</label>
                        <div class="form-row">
                            <select id="select-kit" class="flex-2">
                                <option value="">Selecione um kit</option>
                            </select>
                            <button type="button" class="btn btn-secondary" onclick="adicionarKitNaRequisicao()">üì¶ Adicionar Kit</button>
                        </div>
                    </div>

                    <div id="itens-requisicao">
                        <!-- Itens ser√£o adicionados dinamicamente -->
                    </div>

                    <button type="button" class="btn btn-secondary"
                        onclick="adicionarItemRequisicao()">+ Adicionar
                        Item Individual</button>
                    <button type="submit" class="btn btn-success">Enviar
                        Requisi√ß√£o</button>
                </form>
            </section>

            <!-- Aba: Requisi√ß√µes Pendentes -->
            <section id="tab-pendentes" class="tab-content">
                <h2>Requisi√ß√µes Pendentes de Aprova√ß√£o</h2>
                <div id="lista-pendentes"></div>
            </section>

            <!-- Aba: Hist√≥rico -->
            <section id="tab-historico" class="tab-content">
                <h2>Hist√≥rico de Movimenta√ß√µes</h2>

                <div class="filter-section">
                    <input type="text" id="filtro-historico"
                        placeholder="Buscar..." onkeyup="filtrarHistorico()">
                    <select id="filtro-status" onchange="filtrarHistorico()">
                        <option value>Todos os status</option>
                        <option value="aprovada">Aprovadas</option>
                        <option value="rejeitada">Rejeitadas</option>
                    </select>
                </div>

                <div id="lista-historico" class="historico-lista"></div>
            </section>
        </div>

        <!-- Modal: Adicionar/Editar Item -->
        <div id="modal-item" class="modal">
            <div class="modal-content">
                <span class="close" onclick="fecharModalItem()">&times;</span>
                <h2 id="modal-titulo">Adicionar Item ao Estoque</h2>

                <form id="form-item">
                    <div class="form-group">
                        <label for="item-categoria">Categoria *</label>
                        <select id="item-categoria" required>
                            <option value="estrutura_e_espaco">Estrutura e
                                Espa√ßo</option>
                            <option value="equipamentos">Equipamentos</option>
                            <option value="materiais_de_apoio">Materiais de
                                Apoio</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="item-nome">Nome do Item *</label>
                        <input type="text" id="item-nome" required>
                    </div>

                    <div class="form-group">
                        <label for="item-quantidade">Quantidade *</label>
                        <input type="number" id="item-quantidade" min="0"
                            required>
                    </div>

                    <div class="form-group">
                        <label for="item-unidade">Unidade</label>
                        <input type="text" id="item-unidade"
                            placeholder="Ex: unidade, kg, metros"
                            value="unidade">
                    </div>

                    <button type="submit"
                        class="btn btn-success">Salvar</button>
                    <button type="button" class="btn btn-secondary"
                        onclick="fecharModalItem()">Cancelar</button>
                </form>
            </div>
        </div>

        <!-- Modal: Detalhes da Requisi√ß√£o -->
        <div id="modal-requisicao" class="modal">
            <div class="modal-content modal-large">
                <span class="close"
                    onclick="fecharModalRequisicao()">&times;</span>
                <div id="detalhes-requisicao"></div>
            </div>
        </div>

        <!-- Modal: Criar/Editar Kit -->
        <div id="modal-kit" class="modal">
            <div class="modal-content modal-large">
                <span class="close" onclick="fecharModalKit()">&times;</span>
                <h2 id="modal-kit-titulo">Criar Novo Kit</h2>
                
                <form id="form-kit">
                    <div class="form-group">
                        <label for="kit-nome">Nome do Kit *</label>
                        <input type="text" id="kit-nome" required placeholder="Ex: Kit Evento B√°sico">
                    </div>

                    <div class="form-group">
                        <label for="kit-descricao">Descri√ß√£o</label>
                        <textarea id="kit-descricao" rows="2" placeholder="Descri√ß√£o do kit"></textarea>
                    </div>

                    <h3>Itens do Kit</h3>
                    <div id="itens-kit">
                        <!-- Itens ser√£o adicionados dinamicamente -->
                    </div>

                    <button type="button" class="btn btn-secondary" onclick="adicionarItemKit()">+ Adicionar Item ao Kit</button>
                    <br><br>
                    <button type="submit" class="btn btn-success">Salvar Kit</button>
                    <button type="button" class="btn btn-secondary" onclick="fecharModalKit()">Cancelar</button>
                </form>
            </div>
        </div>

        <!-- Modal: Detalhes do Kit -->
        <div id="modal-detalhes-kit" class="modal">
            <div class="modal-content">
                <span class="close" onclick="fecharModalDetalhesKit()">&times;</span>
                <div id="conteudo-detalhes-kit"></div>
            </div>
        </div>

        <script src="app.js"></script>
    </body>
</html>
